{"name": "test_changjing_01", "status": "failed", "statusDetails": {"message": "AssertionError", "trace": "self = <test_changjing.TestChangJing object at 0x0000025F7C60C308>\n\n    @allure.story('场景测试02')\n    def test_changjing_01(self):\n        ru = RequestUtil()\n        cjru = ChangJingRequestUtil('changjing_02', ru)\n>       cjru.yamlAndRequest()\n\n..\\testcases\\test_changjing.py:19: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n..\\util\\changJingRequestUtil.py:66: in yamlAndRequest\n    self.requestUtil.assertResult(result, dict['validate']['statusCode'], dict['validate']['errorCode'],dict['validate']['msg'])\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <util.requestUtil.RequestUtil object at 0x0000025F7C60CD48>\nresult = <Response [200]>, statusCode = 200, errorCode = 400, msg = '用户名已存在'\n\n    def assertResult(self, result, statusCode, errorCode, msg):\n        with allure.step('发送请求'):\n            allure.attach(str(result.request.url),'请求路径')\n            allure.attach(str(result.request.method),'请求方式')\n            allure.attach(str(result.request.headers),'请求头')\n            allure.attach(str(result.request.body),'请求体')\n    \n        with allure.step('获取响应'):\n            allure.attach(str(result.status_code),'响应状态码')\n            allure.attach(str(result.headers),'响应头')\n            allure.attach(str(result.text),'响应文本内容')\n    \n        with allure.step('断言'):\n            allure.attach(str(statusCode),'预期响应状态码')\n            allure.attach(str(errorCode),'预期返回错误码')\n            allure.attach(str(msg),'预期返回错误信息')\n    \n            assert result.status_code == int(statusCode)\n>           assert result.json()['status'] == int(errorCode)\nE           AssertionError\n\n..\\util\\requestUtil.py:61: AssertionError"}, "steps": [{"name": "发送请求:mcheckImg", "status": "passed", "steps": [{"name": "发送请求", "status": "passed", "attachments": [{"name": "请求路径", "source": "245eb60f-7b0b-424b-b3e5-7abd190fecb0-attachment.attach"}, {"name": "请求方式", "source": "7594c313-6b47-4196-8375-a5e43ad2df56-attachment.attach"}, {"name": "请求头", "source": "44668504-2bb4-4424-9c5c-186896b39e83-attachment.attach"}, {"name": "请求体", "source": "ded9a7a1-4124-4c5d-b078-fa3a0d890162-attachment.attach"}], "start": 1610270197078, "stop": 1610270197105}, {"name": "获取响应", "status": "passed", "attachments": [{"name": "响应状态码", "source": "4cb7da75-80a9-4408-812b-90214b337193-attachment.attach"}, {"name": "响应头", "source": "20ce5da8-abc8-4815-b24f-99180b0f1fee-attachment.attach"}, {"name": "响应文本内容", "source": "86756f08-98aa-4058-b509-0901088b6099-attachment.attach"}], "start": 1610270197105, "stop": 1610270197131}, {"name": "断言", "status": "passed", "attachments": [{"name": "预期响应状态码", "source": "ba3a5d1c-e1a8-415f-945d-bd1a4e15cc3a-attachment.attach"}, {"name": "预期返回错误码", "source": "3e64a755-c679-475d-aa47-eaecd9dc297e-attachment.attach"}, {"name": "预期返回错误信息", "source": "2a649f97-3fd1-4d4d-9b85-0ab58680cec6-attachment.attach"}], "start": 1610270197131, "stop": 1610270197142}], "start": 1610270197060, "stop": 1610270197182}, {"name": "发送请求:mregist", "status": "failed", "statusDetails": {"message": "AssertionError\n", "trace": "  File \"D:\\PycharmProjects\\ApiAutoTestPytest\\util\\changJingRequestUtil.py\", line 66, in yamlAndRequest\n    self.requestUtil.assertResult(result, dict['validate']['statusCode'], dict['validate']['errorCode'],dict['validate']['msg'])\n  File \"D:\\PycharmProjects\\ApiAutoTestPytest\\util\\requestUtil.py\", line 61, in assertResult\n    assert result.json()['status'] == int(errorCode)\n"}, "steps": [{"name": "发送请求", "status": "passed", "attachments": [{"name": "请求路径", "source": "2405327c-b603-44b9-97b3-a60aff949308-attachment.attach"}, {"name": "请求方式", "source": "75784f6b-7935-4f09-b6e9-bb0350e8b918-attachment.attach"}, {"name": "请求头", "source": "2fbc0822-bc78-4b02-be23-d01827cf1a55-attachment.attach"}, {"name": "请求体", "source": "ff68e92d-0560-43d4-bece-7a737db10b9b-attachment.attach"}], "start": 1610270197213, "stop": 1610270197228}, {"name": "获取响应", "status": "passed", "attachments": [{"name": "响应状态码", "source": "49f0299e-0d26-4150-9344-0e166d3ecac5-attachment.attach"}, {"name": "响应头", "source": "4c63e408-534b-4d78-9a45-906e4464289e-attachment.attach"}, {"name": "响应文本内容", "source": "82d030dd-ef64-4c71-9a75-3d1cf911e62c-attachment.attach"}], "start": 1610270197228, "stop": 1610270197229}, {"name": "断言", "status": "failed", "statusDetails": {"message": "AssertionError\n", "trace": "  File \"D:\\PycharmProjects\\ApiAutoTestPytest\\util\\requestUtil.py\", line 61, in assertResult\n    assert result.json()['status'] == int(errorCode)\n"}, "attachments": [{"name": "预期响应状态码", "source": "560cff81-f8d9-4cc0-8a8c-47f95eabb1d2-attachment.attach"}, {"name": "预期返回错误码", "source": "2c88ca48-76a9-4797-a34d-e935654732b8-attachment.attach"}, {"name": "预期返回错误信息", "source": "4e73e19d-d5d0-4e75-89fa-15e9fb6ba05f-attachment.attach"}], "start": 1610270197229, "stop": 1610270197234}], "start": 1610270197182, "stop": 1610270197234}], "start": 1610270197054, "stop": 1610270197235, "uuid": "61b83b58-9da0-446a-a2a8-0360fa1feb4d", "historyId": "6bfcef5370fae256aa03fac08695e433", "testCaseId": "bd44a2c40705c799b06bd73b79c625e0", "fullName": "testcases.test_changjing.TestChangJing#test_changjing_01", "labels": [{"name": "story", "value": "场景测试02"}, {"name": "feature", "value": "场景"}, {"name": "parentSuite", "value": "testcases"}, {"name": "suite", "value": "test_changjing"}, {"name": "subSuite", "value": "TestChangJing"}, {"name": "host", "value": "DESKTOP-HLLR26H"}, {"name": "thread", "value": "58156-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "testcases.test_changjing"}]}